<main>
  <div class="flex-container">
    <mat-card *ngFor="let project of projects" class="mat-elevation-z5">
      <a [routerLink]="[project.seq]" class="project-link">
        <mat-card-header>
          <span mat-card-avatar>{{ project.seq }}</span>
          <mat-card-title-group>
            <mat-card-title>{{ project.name }}</mat-card-title>
            <mat-card-subtitle>
              <mat-icon [inline]="true">{{ statusIcons[project.status] }}</mat-icon>
              {{ project.status }}
            </mat-card-subtitle>
          </mat-card-title-group>
        </mat-card-header>
      </a>
      <mat-divider *ngIf="project.thumbnailPath" [inset]="true"></mat-divider>
      <img *ngIf="project.thumbnailPath" mat-card-image [src]="project.thumbnailPath" [alt]="project.name">
      <mat-card-content>
        <mat-chip-list>
          <mat-chip *ngFor="let item of project.technologies" color="primary">{{ item }}</mat-chip>
        </mat-chip-list>
        <mat-divider class="inset"></mat-divider>
        <p [class]="project.thumbnailPath?'mat-body-2':'description'">
          {{ project.description }}
        </p>
        <mat-form-field>
          <input matInput type="url" readonly [value]="project.url">
          <span class="prefix" matPrefix>
            <mat-icon>link</mat-icon>
          </span>
          <button matSuffix mat-button [cdkCopyToClipboard]="project.url">
            <mat-icon>content_copy</mat-icon>
          </button>
        </mat-form-field>
        <mat-form-field *ngIf="project.homepage">
          <input matInput type="url" readonly [value]="project.homepage">
          <span class="prefix" matPrefix>
            <mat-icon>home</mat-icon>
          </span>
          <button matSuffix mat-button [cdkCopyToClipboard]="project.homepage">
            <mat-icon>content_copy</mat-icon>
          </button>
        </mat-form-field>
        <mat-chip-list>
          <mat-chip *ngFor="let word of project.keywords">{{ word }}</mat-chip>
        </mat-chip-list>
      </mat-card-content>
      <mat-card-actions>
        <a mat-mini-fab color="primary" [routerLink]="[project.seq]">
          <mat-icon>read_more</mat-icon>
        </a>
        <div *ngIf="isAuth" class="options">
          <a mat-mini-fab [routerLink]="['edit', project.seq]">
            <mat-icon>edit</mat-icon>
          </a>
          <button mat-mini-fab color="warn" (click)="delProject(project)">
            <mat-icon>delete_forever</mat-icon>
          </button>
        </div>
      </mat-card-actions>
    </mat-card>
  </div>
</main>
