<form [formGroup]="accountForm" (submit)="onSubmit()">
  <mat-form-field appearance="fill" hintLabel="Alterar e-mail">
    <mat-label>E-mail</mat-label>
    <input matInput type="email" formControlName="email" autocomplete="email">
  </mat-form-field>
  <mat-form-field appearance="fill">
    <mat-label>Senha atual</mat-label>
    <input matInput type="password" formControlName="password" autocomplete="current-password">
  </mat-form-field>
  <button *ngIf="!passwordChange" [disabled]="read" mat-stroked-button type="button" class="btn-opt" (click)="passwordChange = true">
    <mat-icon>vpn_key</mat-icon>
    Alterar senha
  </button>
  <div id="password-change" *ngIf="passwordChange" formGroupName="new">
    <mat-form-field appearance="outline">
      <mat-label>Nova senha</mat-label>
      <input matInput type="password" formControlName="password" autocomplete="new-password">
      <mat-hint>MÃ­nimo 8 characteres</mat-hint>
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Confirmar senha</mat-label>
      <input matInput type="password" formControlName="passwordConfirm" autocomplete="off">
      <mat-error *ngIf="accountForm.get('new').invalid">As senhas devem ser a mesma</mat-error>
    </mat-form-field>
  </div>
  <button *ngIf="!read" mat-raised-button color="primary" type="submit">Salvar</button>
</form>
